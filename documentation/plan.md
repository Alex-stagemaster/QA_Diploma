# План автоматизации тестирования приложения для покупки туристического тура

### Виды тестирования
* Функциональное тестирование приложения покупки путешествия через дебетовую и кредитную карты.
* Тестирование пользовательского интерфейса.

#### Уровни тестирования
* Модульное (оплата тура по дебетовой карте, оплата тура по кредитной карте)
* Интеграционное (интегация с СУБД)

### Тестовые данные

Приложение располагается в файле aqa-shop.jar

Карты, предоставленные для тестирования в файле data.json:
* 4444 4444 4444 4441, status "APPROVED"
* 4444 4444 4444 4442, status "DECLINED"

Валидными-корректными данными при заполнении полей ввода в приложении следует считать:
* Поле "Номер карты": цифры, 16 шт. Данные с платежной карты.
* Поле "Месяц": цифры 01-12, не ранее текущего месяца, если год окончания действия карты - год подачи заявки. Данные с платежной карты.
* Поле "Год": последние две цифры номера года, не ранее текущего года.  Не более + 5 лет от текущего года. Данные с платежной карты.
* Поле "Владелец": буквы латинского алфавита. Данные с платежной карты.
* Поле "CVC": цифры, 3 шт. Данные с платежной карты.

Не валидными и некорректными данными считать:
* Поле "Номер карты": количество цифр меньше 16 шт. ввод любых символов не являющихся цифрами. Пустое поле.
* Поле "Месяц": цифры 00, 13. Предыдущий месяц, любой до текущего. ввод любых символов не являющихся цифрами. Пустое поле.
* Поле "Год": любой предыдущий год до настоящего. Год который >=+ 6 лет к году указанному на карте. ввод любых символов не являющихся цифрами. Пустое поле.
* Поле "Владелец": ввод любых символов не являющихся буквами латинского алфавита. Пустое поле.
* Поле "CVC": количество цифр менее 3 шт. ввод любых символов не являющихся цифрами. Пустое поле.

Базы данных используемые для тестирования:
* MySql
* PostgreSQL 

***
## Перечень автоматизируемых сценариев 

Необходимо автоматизировать проверку оплаты тура по дебетовой и кредитной карте позитивными и негативными сценариями которые будут включать в себя проверку успешности проведения операции и вводимые для операции данные.

Предусловие:
Быть на странице http://localhost:8080/


* Шаги при оплате дебетовой картой:
1. Нажать на кнопку с надписью Купить. 
2. Ввести данные дебетовой карты и нажать кнопку с надписью Продолжить. 
3. Проверить, что оплата прошла успешно и появилось сообщение, о том что тур куплен(позитивный сценарий) или проверить наличие сообщения об ошибке если операция отклонена банком либо введены некорректные данные(негативный сценарий).

* Шаги при оплате кредитной картой:
1. Нажать на кнопку с надписью Купить в кредит. 
2. Ввести данные кредитной карты и нажать кнопку с надписью Продолжить. 
3. Проверить, что оплата прошла успешно и появилось сообщение, о том что тур куплен(позитивный сценарий) или проверить наличие сообщения об ошибке если операция отклонена банком либо введены некорректные данные(негативный сценарий).

### Тестовые сценарии 


#### Позитивные сценарии 
1. Оплата картой со статусом APPROVED
Номер карты 4444 4444 4444 4441. Все поля заполнены корректными данными.
Ожидаемый результат: появилось всплывающее окно "Операция одобрена Банком". 
Ожидаемый результат: статус карты APPROVED


2. Кредит картой со статусом APPROVED
Номер карты 4444 4444 4444 4441. Все поля заполнены корректными данными.
Ожидаемый результат: появилось всплывающее окно "Операция одобрена Банком".
Ожидаемый результат: статус карты APPROVED


#### Негативные сценарии 

1. **Пустая форма:**
    - **Открыть** страницу покупки тура -> кликнуть кнопку "Купить" (оплата картой) -> кликнуть кнопку "Продолжить";  
      Результат:
        - данные не отправлены;
        - под полем "Номер карты" появится сообщение `Неверный формат`;
        - под полем "Месяц" появится сообщение `Неверный формат`;
        - под полем "Год" появится сообщение `Неверный формат`;
        - под полем "Владелец" появится сообщение `Поле обязательно для заполнения`;
        - под полем "CVC/CVV" появится сообщение `Неверный формат`.
1. **Поле "Номер карты":**
    - **Открыть** страницу покупки тура -> кликнуть кнопку "Купить" (оплата картой) -> поле "Номер карты" **оставить пустым**, остальные поля заполнить валидными данными -> кликнуть кнопку "Продолжить";  
      Результат:
        - данные не отправлены;
        - под полем "Номер карты" появится сообщение `Неверный формат`.
    - **Открыть** страницу покупки тура -> кликнуть кнопку "Купить" (оплата картой) -> в поле "Номер карты" **ввести не полный номер** (4444 4444 4444 444), остальные поля заполнить валидными данными -> кликнуть кнопку "Продолжить";  
      Результат:
        - данные не отправлены;
        - под полем "Номер карты" появится сообщение `Неверный формат`.
    - **Открыть** страницу покупки тура -> кликнуть кнопку "Купить" (оплата картой) -> в поле "Номер карты" **ввести не валидный номер**, остальные поля заполнить валидными данными -> кликнуть кнопку "Продолжить";  
      Результат:
        - данные успешно отправлены и могут быть просмотрены в соответствующей базе данных;
        - появится всплывающее окно об отказе в проведении операции банком.
1. **Поле "Месяц":**
    - **Открыть** страницу покупки тура -> кликнуть кнопку "Купить" (оплата картой) -> поле "Месяц" **оставить пустым**, остальные поля заполнить валидными данными -> кликнуть кнопку "Продолжить";  
      Результат:
        - данные не отправлены;
        - под полем "Месяц" появится сообщение `Неверный формат`.
    - **Открыть** страницу покупки тура -> кликнуть кнопку "Купить" (оплата картой) -> в поле "Месяц" **ввести не валидный месяц** (в пределах 01-12), остальные поля заполнить валидными данными -> кликнуть кнопку "Продолжить";  
      Результат:
        - данные не отправлены;
        - под полем "Месяц" появится сообщение `Неверно указан срок действия карты`.
    - **Открыть** страницу покупки тура -> кликнуть кнопку "Купить" (оплата картой) -> в поле "Месяц" **ввести не валидный месяц** (нижнее граничное значение 00), остальные поля заполнить валидными данными -> кликнуть кнопку "Продолжить";  
      Результат:
        - данные не отправлены;
        - под полем "Месяц" появится сообщение `Неверно указан срок действия карты`.
    - **Открыть** страницу покупки тура -> кликнуть кнопку "Купить" (оплата картой) -> в поле "Месяц" **ввести не валидный месяц** (верхнее граничное значение 13), остальные поля заполнить валидными данными -> кликнуть кнопку "Продолжить";  
      Результат:
        - данные не отправлены;
        - под полем "Месяц" появится сообщение `Неверно указан срок действия карты`.
1. **Поле "Год":**
    - **Открыть** страницу покупки тура -> кликнуть кнопку "Купить" (оплата картой) -> поле "Год" **оставить пустым**, остальные поля заполнить валидными данными -> кликнуть кнопку "Продолжить";  
      Результат:
        - данные не отправлены;
        - под полем "Год" появится сообщение `Неверный формат`.
    - **Открыть** страницу покупки тура -> кликнуть кнопку "Купить" (оплата картой) -> в поле "Год" **ввести не валидный год** (текущий год - 1), остальные поля заполнить валидными данными -> кликнуть кнопку "Продолжить";  
      Результат:
        - данные не отправлены;
        - под полем "Год" появится сообщение `Истёк срок действия карты`.
    - **Открыть** страницу покупки тура -> кликнуть кнопку "Купить" (оплата картой) -> в поле "Год" **ввести не валидный год** (текущий год + 6), остальные поля заполнить валидными данными -> кликнуть кнопку "Продолжить";  
      Результат:
        - данные не отправлены;
        - под полем "Год" появится сообщение `Неверно указан срок действия карты`.
1. **Поле "Владелец":**
    - **Открыть** страницу покупки тура -> кликнуть кнопку "Купить" (оплата картой) -> поле "Владелец" **оставить пустым**, остальные поля заполнить валидными данными -> кликнуть кнопку "Продолжить";  
      Результат:
        - данные не отправлены;
        - под полем "Владелец" появится сообщение `Поле обязательно для заполнения`.
    - **Открыть** страницу покупки тура -> кликнуть кнопку "Купить" (оплата картой) -> в поле "Владелец" **ввести " "**(пробел), остальные поля заполнить валидными данными -> кликнуть кнопку "Продолжить";  
      Результат:
        - данные не отправлены;
        - под полем "Владелец" появится сообщение `Поле обязательно для заполнения`.
    - **Открыть** страницу покупки тура -> кликнуть кнопку "Купить" (оплата картой) -> в поле "Владелец" **ввести #&**(два любых спецсимвола), остальные поля заполнить валидными данными -> кликнуть кнопку "Продолжить";  
      Результат:
        - данные не отправлены;
        - под полем "Владелец" появится сообщение `Неверный формат имени владельца`.
    - **Открыть** страницу покупки тура -> кликнуть кнопку "Купить" (оплата картой) -> в поле "Владелец" **ввести двузначное число**(10-99), остальные поля заполнить валидными данными -> кликнуть кнопку "Продолжить";  
      Результат:
        - данные не отправлены;
        - под полем "Владелец" появится сообщение `Неверный формат имени владельца`.
1. **Поле "CVC/CVV":**
    - **Открыть** страницу покупки тура -> кликнуть кнопку "Купить" (оплата картой) -> поле "CVC/CVV" **оставить пустым**, остальные поля заполнить валидными данными -> кликнуть кнопку "Продолжить";  
      Результат:
        - данные не отправлены;
        - под полем "CVC/CVV" появится сообщение `Неверный формат`.
    - **Открыть** страницу покупки тура -> кликнуть кнопку "Купить" (оплата картой) -> в поле "CVC/CVV" **ввести двузначное число**(10-99), остальные поля заполнить валидными данными -> кликнуть кнопку "Продолжить";  
      Результат:
        - данные не отправлены;
        - под полем "CVC/CVV" появится сообщение `Неверный формат`.
 * Аналогичные негативные сценарии для покупки в кредит. 

***
## Перечень используемых инструментов с обоснованием выбора 
* Java JDK 11 - язык программирования
* Gradle - система автоматизации сборки и управления зависимостями
* JUnit — платформа для написания авто-тестов и их запуска 
* Allure - фреймворк, предназначенный для создания отчетов.
* Selenide - фреймворк для автоматизированного тестирования веб-приложений на основе Selenium WebDriver.
* Docker - инструмент, позволяющий запускать мультиконтейнерные приложения.
* IntelliJ IDEA - инструмент для работы над кодом
* Google Chrome - инструмент для работы с интерфейсом сайта

***
## Риски при автоматизации 
* Так как нет ТЗ и документации, то сложно понять - как должно работать приложение и какое поведение системы будет считаться ошибочным.
* Возможны сложности с поиском локаторов элементов на страницах приложения, так как у них не у всех есть уникальные номера.
* Возможны проблемы из-за поддержки двух СУБД (MySQL, Postgres).


***
## Оценка затрат времени с учетом рисков (часы) 
Настройка тестового окружения - 8  
Написание и отладка автотестов - 60  
Прогон тестов и заведение issue - 8   
Подготовка отчета тестирования - 8  
Интеграция проекта с CI - 8

***
## Планируемое время сдачи работ
Автоматизация - до 04.12.2022  
Подготовка и сдача отчетных документов - до 05.12.2022
